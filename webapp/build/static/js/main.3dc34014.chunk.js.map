{"version":3,"sources":["components/NetworkItem.tsx","components/NetworkConnection.tsx","components/DeviceInformation.tsx","components/StaticNavbar.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["NetworkItem","props","useState","securityKey","setSecurityKey","encIcon","network","encrypted","Lock","className","LockOpen","connectionPrompt","selected","Input","variant","onChange","event","console","log","target","value","Button","onClick","ssid","passkey","requestOptions","method","headers","body","JSON","stringify","wifi_ssid","wifi_passcode","fetch","then","response","a","json","responseJson","catch","reason","attemptConnection","Wifi","NetworkConnection","availableNetworks","setNetworks","selectedNetworkIndex","setSelectedNetworkIndex","length","map","index","scan_results","DeviceInformation","deviceInfo","setDeviceInfo","deviceName","setDeviceName","siteId","setSiteId","ipv4info","address","Info","mac","PermDeviceInformation","devname","siteid","name","saveDeviceInfo","StaticNavItem","currentRoute","useLocation","to","route","pathname","startsWith","icon","label","StaticNavbar","children","React","Children","child","path","App","animationIn","animationOut","isVisible","autoCollapse","roundRightCorners","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gSAIe,SAASA,EAAYC,GAAa,IAAD,EACSC,mBAAS,IADlB,mBACrCC,EADqC,KACxBC,EADwB,KA2B5C,IAAMC,EAAUJ,EAAMK,QAAQC,UAC1B,cAACC,EAAA,EAAD,CAAMC,UAAU,cAEhB,cAACC,EAAA,EAAD,CAAUD,UAAU,cAGlBE,EAAmBV,EAAMW,SAC3B,sBAAKH,UAAU,SAAf,UACI,cAACI,EAAA,EAAD,CACIC,QAAQ,WACRL,UAAU,QACVM,SApCgB,SAACC,GACzBC,QAAQC,IAAIF,EAAMG,OAAOC,OACzBhB,EAAeY,EAAMG,OAAOC,UAoCxB,cAACC,EAAA,EAAD,CACIP,QAAQ,WACRL,UAAU,SACVa,QAAS,YApCrB,SAA2BC,EAAcC,GACrC,IAAMC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEC,UAAWR,EAAMS,cAAeR,KAG3DP,QAAQC,IAAI,mCAAqCK,EAAO,IAAMC,GAE9DS,MAAM,eAAgBR,GACjBS,KADL,uCACU,WAAOC,GAAP,eAAAC,EAAA,sEACuBD,EAASE,OADhC,OACEC,EADF,OAGFrB,QAAQC,IAAIoB,GAHV,2CADV,uDAMKC,OAAM,SAACC,GACJvB,QAAQC,IAAI,yBAA2BsB,MAqBnCC,CAAkBxC,EAAMK,QAAQiB,KAAMpB,IAJ9C,wBAUJ,KAEJ,OACI,sBAAKM,UAAU,2BAA2Ba,QAASrB,EAAMqB,QAAzD,UACI,sBAAKb,UAAU,SAAf,UACI,cAACiC,EAAA,EAAD,CAAMjC,UAAU,aAEfR,EAAMK,QAAQiB,KAEdlB,KAGJM,KC9DE,SAASgC,IAAqB,IAAD,EACoBzC,mBAAS,IAD7B,mBACjC0C,EADiC,KACdC,EADc,OAKpC3C,oBAAU,GAL0B,mBAEjC4C,EAFiC,KAEXC,EAFW,KA2BxC,OACI,sBAAKtC,UAAU,oBAAf,UACI,oDAECmC,GAAqBA,EAAkBI,OAAS,EAC7C,oBAAIvC,UAAU,cAAd,SACKmC,EAAkBK,KAAI,SAAC3C,EAAS4C,GAC7B,OACI,cAAClD,EAAD,CAEIM,QAASA,EACTM,SAAUsC,IAAUJ,EACpBxB,QAAS,WACLyB,EAAwBG,KAJvBA,QAWrB,qBAAKzC,UAAU,aAAf,iCAGJ,cAACY,EAAA,EAAD,CAAQZ,UAAU,SAASa,QA3CX,WACpByB,GAAyB,GAKzBd,MAAM,gBACDC,KADL,uCACU,WAAOC,GAAP,eAAAC,EAAA,sEACuBD,EAASE,OADhC,OACEC,EADF,OAGFO,EAAYP,EAAaa,cAEzBlC,QAAQC,IAAI,iCACZD,QAAQC,IAAIoB,GANV,2CADV,uDASKC,OAAM,SAACC,GACJvB,QAAQC,IAAI,SAAWsB,OA2B3B,wB,sBClDG,SAASY,IAAqB,IAAD,MACQlD,mBAAS,MADjB,mBACjCmD,EADiC,KACrBC,EADqB,OAEJpD,mBAAS,IAFL,mBAEjCqD,EAFiC,KAErBC,EAFqB,OAGZtD,mBAAS,IAHG,mBAGjCuD,EAHiC,KAGzBC,EAHyB,KA4DxC,OA9CSL,GACDpB,MAAM,YACDC,KADL,uCACU,WAAOC,GAAP,iBAAAC,EAAA,sEACuBD,EAASE,OADhC,OACEC,EADF,OAEIqB,EAAWrB,EAAa,GAE9BrB,QAAQC,IAAIyC,GACZL,EAAcK,GALZ,2CADV,uDAQKpB,OAAM,SAACC,GACJvB,QAAQC,IAAI,yBAA2BsB,MAqCnD,sBAAK/B,UAAU,oBAAf,UACI,iDAEA,sBAAKA,UAAU,UAAf,UACI,sBAAKA,UAAU,WAAf,kCACS4C,QADT,IACSA,OADT,EACSA,EAAYO,eADrB,QACgC,YAC5B,cAACC,EAAA,EAAD,CAAMpD,UAAU,YAGpB,sBAAKA,UAAU,WAAf,mCACU4C,QADV,IACUA,OADV,EACUA,EAAYS,WADtB,QAC6B,YACzB,cAACC,EAAA,EAAD,CAAuBtD,UAAU,eAIzC,gCACI,qBAAKA,UAAU,QAAf,0BACA,cAACI,EAAA,EAAD,CACIJ,UAAU,QACVM,SA3EW,SAACC,GACxBwC,EAAcxC,EAAMG,OAAOC,QA2EfA,MAAOmC,IAGX,qBAAK9C,UAAU,QAAf,sBACA,cAACI,EAAA,EAAD,CACIJ,UAAU,QACVM,SA9EO,SAACC,GACpB0C,EAAU1C,EAAMG,OAAOC,QA8EXA,MAAOqC,IAGX,cAACpC,EAAA,EAAD,CACIZ,UAAU,SACVK,QAAQ,WACRQ,QA3CS,WACrBL,QAAQC,IAAI,uBAAyBqC,GACrCtC,QAAQC,IAAI,mBAAqBuC,GAxBrC,SAAwBO,EAAiBC,GACrC,IAAMxC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEoC,KAAMF,EAASC,OAAQA,KAGlDhD,QAAQC,IACJ,oCAAsC8C,EAAU,IAAMC,GAG1DhC,MAAM,WAAYR,GACbS,KADL,uCACU,WAAOC,GAAP,eAAAC,EAAA,sEACuBD,EAASE,OADhC,OACEC,EADF,OAGFrB,QAAQC,IAAIoB,GAHV,2CADV,uDAMKC,OAAM,SAACC,GACJvB,QAAQC,IAAI,yBAA2BsB,MAO/C2B,CAAeZ,EAAYE,IAqCnB,wBCtDT,SAASW,EAAcnE,GAC1B,IAAIoE,EAAeC,cAKnB,OACI,cAAC,IAAD,CAAMC,GAAItE,EAAMuE,MAAhB,SACI,sBACI/D,UAAS,kBACL4D,EAAaI,SAASC,WAAWzE,EAAMuE,OACjC,SACA,YAJd,UAOI,qBAAK/D,UAAU,UAAf,SAA0BR,EAAM0E,OAChC,qBAAKlE,UAAU,WAAf,SAA2BR,EAAM2E,aAUlC,SAASC,EAAa5E,GAKjC,OACI,qCACI,qBAAKQ,UAAU,eAAf,SACI,qBAAKA,UAAS,WAAd,SAA6BR,EAAM6E,aAEvC,qBAAKrE,UAAU,SAAf,SACKsE,IAAMC,SAAS/B,IAAIhD,EAAM6E,UAVtC,SAAqBG,GACjB,OAAO,cAAC,IAAD,CAAOC,KAAMD,EAAMhF,MAAMuE,MAAzB,SAAiCS,EAAMhF,MAAM6E,mBCpB7CK,MAxCf,WACI,OACI,cAAC,IAAD,UAGI,cAAC,IAAD,UACI,cAAC,IAAD,CAAOD,KAAK,IAAZ,SACI,cAAC,WAAD,CACIE,YAAY,SACZC,aAAa,UACbC,WAAW,EAHf,SAKI,qBAAK7E,UAAU,MAAf,SACI,eAACoE,EAAD,CACIU,cAAc,EACdC,mBAAmB,EAFvB,UAII,cAACpB,EAAD,CACIQ,MAAO,qBACPJ,MAAO,sBACPG,KAAM,cAACjC,EAAA,EAAD,IAHV,SAKI,cAACC,EAAD,MAEJ,cAACyB,EAAD,CACIQ,MAAO,qBACPJ,MAAO,sBACPG,KAAM,cAACd,EAAA,EAAD,IAHV,SAKI,cAACT,EAAD,oBCxBrBqC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBzD,MAAK,YAAkD,IAA/C0D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.3dc34014.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Button, Input } from 'reactstrap';\r\nimport { Wifi, Lock, LockOpen } from '@material-ui/icons';\r\n\r\nexport default function NetworkItem(props: any) {\r\n    const [securityKey, setSecurityKey]: [string, any] = useState('');\r\n    const onSecurityKeyChange = (event: any) => {\r\n        console.log(event.target.value);\r\n        setSecurityKey(event.target.value);\r\n    };\r\n\r\n    function attemptConnection(ssid: string, passkey: string) {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ wifi_ssid: ssid, wifi_passcode: passkey }),\r\n        };\r\n\r\n        console.log('sending connection message with ' + ssid + ':' + passkey);\r\n\r\n        fetch('/enable_wifi', requestOptions)\r\n            .then(async (response) => {\r\n                var responseJson = await response.json();\r\n\r\n                console.log(responseJson);\r\n            })\r\n            .catch((reason) => {\r\n                console.log('Something went wrong: ' + reason);\r\n            });\r\n    }\r\n\r\n    const encIcon = props.network.encrypted ? (\r\n        <Lock className=\"rightIcon\" />\r\n    ) : (\r\n        <LockOpen className=\"rightIcon\" />\r\n    );\r\n\r\n    const connectionPrompt = props.selected ? (\r\n        <div className=\"inline\">\r\n            <Input\r\n                variant=\"outlined\"\r\n                className=\"input\"\r\n                onChange={onSecurityKeyChange}\r\n            />\r\n            <Button\r\n                variant=\"outlined\"\r\n                className=\"button\"\r\n                onClick={() => {\r\n                    attemptConnection(props.network.ssid, securityKey);\r\n                }}\r\n            >\r\n                Connect\r\n            </Button>\r\n        </div>\r\n    ) : null;\r\n\r\n    return (\r\n        <div className=\"networkItem floatingCard\" onClick={props.onClick}>\r\n            <div className=\"inline\">\r\n                <Wifi className=\"leftIcon\" />\r\n\r\n                {props.network.ssid}\r\n\r\n                {encIcon}\r\n            </div>\r\n\r\n            {connectionPrompt}\r\n        </div>\r\n    );\r\n}\r\n","import React, { useState } from 'react';\nimport { Button } from 'reactstrap';\nimport NetworkItem from './NetworkItem';\n\nexport default function NetworkConnection() {\n    const [availableNetworks, setNetworks]: [Array<any>, any] = useState([]);\n    const [selectedNetworkIndex, setSelectedNetworkIndex]: [\n        number,\n        any\n    ] = useState(-1);\n\n    const refreshNetworks = () => {\n        setSelectedNetworkIndex(-1);\n        getWifiNetworks();\n    };\n\n    function getWifiNetworks() {\n        fetch('/rescan_wifi')\n            .then(async (response) => {\n                var responseJson = await response.json();\n\n                setNetworks(responseJson.scan_results);\n\n                console.log('Success Getting Wifi Networks');\n                console.log(responseJson);\n            })\n            .catch((reason) => {\n                console.log('ERROR:' + reason);\n            });\n    }\n\n    return (\n        <div className=\"networkConnection\">\n            <h1>Available Networks</h1>\n\n            {availableNetworks && availableNetworks.length > 0 ? (\n                <ul className=\"networkList\">\n                    {availableNetworks.map((network, index) => {\n                        return (\n                            <NetworkItem\n                                key={index}\n                                network={network}\n                                selected={index === selectedNetworkIndex}\n                                onClick={() => {\n                                    setSelectedNetworkIndex(index);\n                                }}\n                            />\n                        );\n                    })}\n                </ul>\n            ) : (\n                <div className=\"noNetworks\">[No Networks Found]</div>\n            )}\n\n            <Button className=\"button\" onClick={refreshNetworks}>\n                Refresh\n            </Button>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\r\nimport { Button, Input } from 'reactstrap';\r\nimport { Info, PermDeviceInformation } from '@material-ui/icons';\r\n\r\nexport default function DeviceInformation() {\r\n    const [deviceInfo, setDeviceInfo]: [any, any] = useState(null);\r\n    const [deviceName, setDeviceName] = useState('');\r\n    const [siteId, setSiteId] = useState('');\r\n\r\n    const onDeviceNameChange = (event: any) => {\r\n        setDeviceName(event.target.value);\r\n    };\r\n\r\n    const onSiteIdChange = (event: any) => {\r\n        setSiteId(event.target.value);\r\n    };\r\n\r\n    function getDeviceInfo() {\r\n        if (!deviceInfo) {\r\n            fetch('/devinfo')\r\n                .then(async (response) => {\r\n                    var responseJson = await response.json();\r\n                    const ipv4info = responseJson[0];\r\n\r\n                    console.log(ipv4info);\r\n                    setDeviceInfo(ipv4info);\r\n                })\r\n                .catch((reason) => {\r\n                    console.log('Something went wrong: ' + reason);\r\n                });\r\n        }\r\n    }\r\n\r\n    function saveDeviceInfo(devname: string, siteid: string) {\r\n        const requestOptions = {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ name: devname, siteid: siteid }),\r\n        };\r\n\r\n        console.log(\r\n            'Sending device info message with ' + devname + ':' + siteid\r\n        );\r\n\r\n        fetch('/devinfo', requestOptions)\r\n            .then(async (response) => {\r\n                var responseJson = await response.json();\r\n\r\n                console.log(responseJson);\r\n            })\r\n            .catch((reason) => {\r\n                console.log('Something went wrong: ' + reason);\r\n            });\r\n    }\r\n\r\n    const handleSaveButton = () => {\r\n        console.log('Saving device name: ' + deviceName);\r\n        console.log('Saving site id: ' + siteId);\r\n        saveDeviceInfo(deviceName, siteId);\r\n    };\r\n\r\n    //Get the device info once when the component is loaded.\r\n    getDeviceInfo();\r\n\r\n    return (\r\n        <div className=\"deviceInformation\">\r\n            <h1>Logger Settings</h1>\r\n\r\n            <div className=\"infoBox\">\r\n                <div className=\"infoLine\">\r\n                    IP: {deviceInfo?.address ?? '<unknown>'}\r\n                    <Info className=\"icon\" />\r\n                </div>\r\n\r\n                <div className=\"infoLine\">\r\n                    MAC: {deviceInfo?.mac ?? '<unknown>'}\r\n                    <PermDeviceInformation className=\"icon\" />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <div className=\"label\">Device Name:</div>\r\n                <Input\r\n                    className=\"input\"\r\n                    onChange={onDeviceNameChange}\r\n                    value={deviceName}\r\n                />\r\n\r\n                <div className=\"label\">Site ID:</div>\r\n                <Input\r\n                    className=\"input\"\r\n                    onChange={onSiteIdChange}\r\n                    value={siteId}\r\n                />\r\n\r\n                <Button\r\n                    className=\"button\"\r\n                    variant=\"outlined\"\r\n                    onClick={handleSaveButton}\r\n                >\r\n                    Save\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","/**\r\n * Side navbar component\r\n *\r\n * creates navbar component that can be developed further to implement both levels of the dynamic side navbar\r\n */\r\n\r\n//import { fireAuthSignOut } from \"FireConfig\";\r\nimport React, { ReactElement } from 'react';\r\nimport { Link, Route, useLocation } from 'react-router-dom';\r\n\r\n/**\r\n * autoCollapse: if true, the navbar compresses itself and expands when hovered. Ideal if icons are used\r\n * roundRightCornser: if true, all 4 corners of the navbar are rounded. if false on the left two are. This will need to be expanded upon later if this component is used to create multiple levels of navbars\r\n * currentPrivilege: privilege of the current user\r\n * active route: the active route\r\n */\r\ninterface navbarProps {\r\n    autoCollapse: Boolean;\r\n    roundRightCorners: Boolean;\r\n    //currentPrivilege: string;\r\n    children: ReactElement | ReactElement[];\r\n}\r\n\r\n/**\r\n * name: text to display on the nav item\r\n * route: the route switched to upon clicking the nav item\r\n * currentRoute: the current route the user is on (used to highlight the current route)\r\n * requiredPermissions: permissions required to navigate to this route\r\n * currentPermission: permission level of the current user\r\n */\r\ninterface StaticNavItemProp {\r\n    label: string;\r\n    route: string;\r\n    icon: any;\r\n    children: ReactElement;\r\n}\r\n\r\n/**\r\n * Navigation item\r\n * @param props\r\n */\r\nexport function StaticNavItem(props: StaticNavItemProp) {\r\n    let currentRoute = useLocation();\r\n\r\n    /**\r\n     * returns empty div if the permissions are not met\r\n     */\r\n    return (\r\n        <Link to={props.route}>\r\n            <div\r\n                className={`navItem ${\r\n                    currentRoute.pathname.startsWith(props.route)\r\n                        ? 'active'\r\n                        : 'inactive'\r\n                }`}\r\n            >\r\n                <div className=\"navIcon\">{props.icon}</div>\r\n                <div className=\"navTitle\">{props.label}</div>\r\n            </div>\r\n        </Link>\r\n    );\r\n}\r\n\r\n/**\r\n * Side navbar\r\n * @param props\r\n */\r\nexport default function StaticNavbar(props: navbarProps) {\r\n    function createRoute(child: ReactElement) {\r\n        return <Route path={child.props.route}>{child.props.children}</Route>;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"staticNavbar\">\r\n                <div className={`navLinks`}>{props.children}</div>\r\n            </div>\r\n            <div className=\"routes\">\r\n                {React.Children.map(props.children, createRoute)}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { Animated } from 'react-animated-css';\nimport './App.scss';\nimport NetworkConnection from './components/NetworkConnection';\nimport DeviceInformation from './components/DeviceInformation';\nimport StaticNavbar, { StaticNavItem } from './components/StaticNavbar';\nimport { Info, Wifi } from '@material-ui/icons';\n\nfunction App() {\n    return (\n        <Router>\n            {/* A <Switch> looks through its children <Route>s and\n            renders the first one that matches the current URL. */}\n            <Switch>\n                <Route path=\"/\">\n                    <Animated\n                        animationIn=\"fadeIn\"\n                        animationOut=\"fadeOut\"\n                        isVisible={true}\n                    >\n                        <div className=\"app\">\n                            <StaticNavbar\n                                autoCollapse={true}\n                                roundRightCorners={true}\n                            >\n                                <StaticNavItem\n                                    label={'Network Connection'}\n                                    route={'/network-connection'}\n                                    icon={<Wifi />}\n                                >\n                                    <NetworkConnection />\n                                </StaticNavItem>\n                                <StaticNavItem\n                                    label={'Device Information'}\n                                    route={'/device-information'}\n                                    icon={<Info />}\n                                >\n                                    <DeviceInformation />\n                                </StaticNavItem>\n                            </StaticNavbar>\n                        </div>\n                    </Animated>\n                </Route>\n            </Switch>\n        </Router>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}