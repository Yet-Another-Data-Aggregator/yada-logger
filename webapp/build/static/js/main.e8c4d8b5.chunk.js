(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{107:function(e,n,t){},116:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),s=t(44),i=t.n(s),o=(t(51),t(14)),r=t(4),l=t(45),j=(t(107),t(11)),d=t.n(j),u=t(18),b=t(7),h=t(128),O=t(129),v=t(2);function f(){var e=Object(c.useState)(""),n=Object(b.a)(e,2),t=n[0],a=n[1],s=Object(c.useState)(""),i=Object(b.a)(s,2),o=i[0],l=i[1],j=Object(r.g)(),d=Object(c.useState)(!1),u=Object(b.a)(d,2),f=u[0],m=u[1];var x=Object(v.jsx)(h.a,{className:"expandButton",onClick:function(){m(!f)},children:"Hidden SSID"}),p=f?Object(v.jsxs)("div",{className:"hiddenNetworkItem",children:[x,Object(v.jsx)("div",{className:"inline",children:Object(v.jsx)(O.a,{variant:"outlined",className:"input",placeholder:"Hidden Network SSID",onChange:function(e){l(e.target.value)}})}),Object(v.jsxs)("div",{className:"inline",children:[Object(v.jsx)(O.a,{variant:"outlined",className:"input",placeholder:"Hidden Network Password",onChange:function(e){a(e.target.value)}}),Object(v.jsx)(h.a,{className:"button",onClick:function(){var e;(e=o)&&!/^\s*$/.test(e)?j.push("/device-information?ssid=".concat(o,"&passkey=").concat(t)):alert("SSID required before proceeding.")},children:"Continue"})]}),Object(v.jsx)("div",{className:"inline"})]}):Object(v.jsx)("div",{className:"hiddenNetworkItem",children:x});return Object(v.jsx)("div",{children:p})}var m=t(130),x=t(131),p=t(132);function g(e){var n=Object(c.useState)(""),t=Object(b.a)(n,2),a=t[0],s=t[1],i=e.network.encrypted?Object(v.jsx)(m.a,{className:"rightIcon"}):Object(v.jsx)(x.a,{className:"rightIcon"}),r=e.selected?Object(v.jsxs)("div",{className:"inline",children:[e.network.encrypted?Object(v.jsx)(O.a,{variant:"outlined",className:"input",placeholder:"Password",onChange:function(e){s(e.target.value)}}):null,Object(v.jsx)(o.b,{className:"button",to:"/device-information?ssid=".concat(e.network.ssid,"&passkey=").concat(a),children:"Continue"})]}):null;return Object(v.jsxs)("div",{className:"networkItem floatingCard",onClick:e.onClick,children:[Object(v.jsxs)("div",{className:"inline",children:[Object(v.jsx)(p.a,{className:"leftIcon"}),e.network.ssid,i]}),r]})}function N(){var e=Object(c.useState)([]),n=Object(b.a)(e,2),t=n[0],a=n[1],s=Object(c.useState)(-1),i=Object(b.a)(s,2),o=i[0],r=i[1];return Object(v.jsxs)("div",{className:"networkConnection",children:[Object(v.jsx)("h1",{children:"Available Networks"}),t&&t.length>0?Object(v.jsx)("ul",{className:"networkList",children:t.map((function(e,n){return Object(v.jsx)(g,{network:e,selected:n===o,onClick:function(){r(n)}},n)}))}):Object(v.jsx)("div",{className:"noNetworks",children:"[No Networks Found]"}),Object(v.jsx)(f,{}),Object(v.jsx)(h.a,{className:"button",onClick:function(){r(-1),fetch("/rescan_wifi").then(function(){var e=Object(u.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,a(t.scan_results),console.log("Success Getting Wifi Networks"),console.log(t);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("ERROR:"+e)}))},children:"Refresh"})]})}var w=t(133),k=t(134);function S(){var e,n,t=Object(c.useState)(null),a=Object(b.a)(t,2),s=a[0],i=a[1],o=Object(c.useState)(""),l=Object(b.a)(o,2),j=l[0],f=l[1],m=Object(c.useState)(""),x=Object(b.a)(m,2),p=x[0],g=x[1],N=Object(c.useState)(""),S=Object(b.a)(N,2),C=S[0],y=S[1],I=Object(r.h)(),D=new URLSearchParams(I.search);function L(e){return!e||/^\s*$/.test(e)}return s||fetch("/devinfo").then(function(){var e=Object(u.a)(d.a.mark((function e(n){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,c=t[0],console.log(c),i(c);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("Something went wrong: "+e)})),console.log(D.get("ssid")),console.log(D.get("passkey")),Object(v.jsxs)("div",{className:"deviceInformation",children:[Object(v.jsx)("h1",{children:"Logger Settings"}),Object(v.jsxs)("div",{className:"infoBox",children:[Object(v.jsxs)("div",{className:"infoLine",children:["IP: ",null!==(e=null===s||void 0===s?void 0:s.address)&&void 0!==e?e:"<unknown>",Object(v.jsx)(w.a,{className:"icon"})]}),Object(v.jsxs)("div",{className:"infoLine",children:["MAC: ",null!==(n=null===s||void 0===s?void 0:s.mac)&&void 0!==n?n:"<unknown>",Object(v.jsx)(k.a,{className:"icon"})]})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:"label",children:"Device Name:"}),Object(v.jsx)(O.a,{className:"input",onChange:function(e){f(e.target.value)},value:j}),Object(v.jsx)("div",{className:"label",children:"Site ID (Optional):"}),Object(v.jsx)(O.a,{className:"input",onChange:function(e){y(e.target.value)},value:C}),Object(v.jsx)("div",{className:"label",children:"Notes (Optional):"}),Object(v.jsx)(O.a,{type:"textarea",className:"largeInput",onChange:function(e){g(e.target.value)},value:p}),Object(v.jsx)(h.a,{className:"button",variant:"outlined",onClick:function(){if(L(j))alert("Device name cannot be empty.");else{console.log("Saving device name: "+j),console.log("Saving site id: "+C),function(e,n){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,siteid:n,notes:p})};console.log("Sending device info message with "+e+":"+n),fetch("/devinfo",t).then(function(){var e=Object(u.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("Something went wrong: "+e)}))}(j,C);var e=D.get("ssid"),n=D.get("passkey");null==e||null==n||L(e)?alert("SSID or network passkey not specified.  Return to network selection and try again."):function(e,n){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wifi_ssid:e,wifi_passcode:n})};console.log("sending connection message with "+e+":"+n),fetch("/enable_wifi",t).then(function(){var e=Object(u.a)(d.a.mark((function e(n){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log("Something went wrong: "+e)}))}(e,n)}},children:"Save & Attempt Connect"})]})]})}function C(e){var n=Object(r.h)();return Object(v.jsx)(o.b,{to:e.route,children:Object(v.jsxs)("div",{className:"navItem ".concat(n.pathname.startsWith(e.route)?"active":"inactive"),children:[Object(v.jsx)("div",{className:"navIcon",children:e.icon}),Object(v.jsx)("div",{className:"navTitle",children:e.label})]})})}function y(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"staticNavbar",children:Object(v.jsx)("div",{className:"navLinks",children:e.children})}),Object(v.jsx)("div",{className:"routes",children:a.a.Children.map(e.children,(function(e){return Object(v.jsx)(r.b,{path:e.props.route,children:e.props.children})}))})]})}t(115);var I=function(){return Object(v.jsx)(o.a,{children:Object(v.jsx)(r.d,{children:Object(v.jsxs)(r.b,{path:"/",children:[Object(v.jsx)(r.a,{to:"/network-connection/"}),Object(v.jsx)(l.Animated,{animationIn:"fadeIn",animationOut:"fadeOut",isVisible:!0,children:Object(v.jsx)("div",{className:"app",children:Object(v.jsxs)(y,{autoCollapse:!0,roundRightCorners:!0,children:[Object(v.jsx)(C,{label:"Network Connection",route:"/network-connection",icon:Object(v.jsx)(p.a,{}),children:Object(v.jsx)(N,{})}),Object(v.jsx)(C,{label:"Device Information",route:"/device-information/",icon:Object(v.jsx)(w.a,{}),children:Object(v.jsx)(S,{})})]})})})]})})})},D=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,135)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(I,{})}),document.getElementById("root")),D()},51:function(e,n,t){}},[[116,1,2]]]);
//# sourceMappingURL=main.e8c4d8b5.chunk.js.map